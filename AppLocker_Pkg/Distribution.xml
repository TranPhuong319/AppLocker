<?xml version="1.0" encoding="utf-8"?>
<installer-gui-script minSpecVersion="1">
    <title>AppLocker Installer</title>

    <!-- Welcome & License -->
    <welcome file="Welcome.html"/>
    <license file="LICENSE.txt"/>

    <!-- Lựa chọn cài đặt -->
    <choices-outline>
        <line choice="install"/>
        <line choice="uninstall"/>
    </choices-outline>

    <!-- Install choice -->
    <choice id="install"
            title="Install AppLocker"
            description="Install AppLocker on your Mac"
            start_selected="false"
            enabled="true"
            visible="true">
        <pkg-ref id="com.TranPhuong319.AppLocker-Installer"/>
    </choice>

    <!-- Uninstall choice -->
    <choice id="uninstall"
            title="Uninstall AppLocker"
            description="Remove AppLocker from your Mac. Please unlock all apps before uninstalling."
            start_selected="false"
            enabled="true"
            visible="true">
        <pkg-ref id="com.TranPhuong319.AppLocker-Uninstaller"/>
    </choice>

    <!-- Package references -->
    <pkg-ref id="com.TranPhuong319.AppLocker-Installer" version="1.1.0" auth="Root">Installer.pkg</pkg-ref>
    <pkg-ref id="com.TranPhuong319.AppLocker-Uninstaller" version="1.1.0" auth="Root">Uninstall.pkg</pkg-ref>

    <!-- Script để chỉ chọn được 1 option -->
    <script>
        function choicesChanged() {
            var install = choices['install'].selected;
            var uninstall = choices['uninstall'].selected;

            if (install) {
                choices['uninstall'].enabled = false;
            } else {
                choices['uninstall'].enabled = true;
            }

            if (uninstall) {
                choices['install'].enabled = false;
            } else {
                choices['install'].enabled = true;
            }
        }
    </script>
</installer-gui-script>
